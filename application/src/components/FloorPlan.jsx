import React from "react";
import { Container } from "react-bootstrap";
// import {ReactComponent as FloorPlan} from "../resources/Sample_1.svg";
import { ReactComponent as FloorPlanOne } from '../resources/Location1.svg';
import { ReactComponent as FloorPlanTwo } from '../resources/Location2.svg';
import { motion } from "framer-motion";
import FAB from "./FAB";
import Path from "./Path";
import "./Components.css";

function FloorPlanComponent(props) {
    // const startPoint = { x: 1068, y: 329 };
    // const endPoint = { x: 226, y: 720 };
    const coordinates = [[1068,329],[1067,329],[1066,329],[1065,329],[1064,329],[1063,329],[1062,329],[1061,329],[1060,329],[1059,329],[1058,329],[1057,329],[1056,329],[1055,329],[1054,329],[1053,329],[1052,329],[1051,329],[1050,329],[1049,329],[1048,329],[1047,329],[1046,329],[1045,329],[1044,329],[1043,329],[1042,329],[1041,329],[1040,329],[1039,329],[1038,329],[1037,329],[1036,329],[1035,329],[1034,329],[1033,329],[1032,329],[1031,329],[1030,329],[1029,329],[1028,329],[1027,329],[1026,329],[1025,329],[1024,329],[1023,329],[1022,329],[1021,329],[1020,329],[1019,329],[1018,329],[1017,329],[1016,329],[1015,329],[1014,329],[1013,329],[1012,329],[1011,329],[1010,329],[1009,329],[1008,329],[1007,329],[1006,329],[1005,329],[1004,329],[1003,329],[1002,329],[1001,329],[1000,329],[999,329],[998,329],[997,329],[996,329],[995,329],[994,329],[993,329],[992,329],[991,329],[990,329],[989,329],[988,329],[987,329],[986,329],[985,329],[984,329],[983,329],[982,329],[981,329],[980,329],[979,329],[978,329],[977,329],[976,329],[975,329],[974,329],[973,329],[972,329],[971,329],[970,329],[969,329],[968,329],[967,329],[966,329],[965,329],[964,329],[963,329],[962,329],[961,329],[960,329],[959,329],[958,329],[957,329],[956,329],[955,329],[954,329],[953,329],[952,329],[951,329],[950,329],[949,329],[948,329],[947,329],[946,329],[945,329],[944,329],[943,329],[942,329],[941,329],[940,329],[939,329],[938,329],[937,329],[936,329],[935,329],[934,329],[933,329],[932,329],[931,329],[930,329],[929,329],[928,329],[927,329],[926,329],[925,329],[924,329],[923,329],[922,329],[921,329],[920,329],[919,329],[918,329],[917,329],[916,329],[915,329],[914,329],[913,329],[912,329],[911,329],[910,329],[909,329],[908,329],[907,329],[906,329],[905,329],[904,329],[903,329],[902,329],[901,329],[900,329],[899,329],[898,329],[897,329],[896,329],[895,329],[894,329],[893,329],[892,329],[891,329],[890,329],[889,329],[888,329],[887,329],[886,329],[885,329],[884,329],[883,329],[882,329],[881,329],[880,329],[879,329],[878,329],[877,329],[876,329],[875,329],[874,329],[873,329],[872,329],[871,329],[870,329],[869,329],[868,329],[867,329],[866,329],[865,329],[864,329],[863,329],[862,329],[861,329],[860,329],[859,329],[858,329],[857,329],[856,329],[855,329],[854,329],[853,329],[852,329],[851,329],[850,329],[849,329],[848,329],[847,329],[846,329],[845,329],[844,329],[843,329],[842,329],[841,329],[840,329],[839,329],[838,329],[837,329],[836,329],[835,329],[834,329],[833,329],[832,329],[831,329],[830,329],[829,329],[828,329],[827,329],[826,329],[825,329],[824,329],[823,329],[822,329],[821,329],[820,329],[819,329],[818,329],[817,329],[816,329],[815,329],[814,329],[813,329],[812,329],[811,329],[810,329],[809,329],[808,329],[807,329],[806,329],[805,329],[804,329],[803,329],[802,329],[801,329],[800,329],[799,329],[798,329],[797,329],[796,329],[795,329],[794,329],[793,329],[792,329],[791,329],[790,329],[789,329],[788,329],[787,329],[786,329],[785,329],[784,329],[783,329],[782,329],[781,329],[780,329],[779,329],[778,329],[777,329],[776,329],[775,329],[774,329],[773,329],[772,329],[771,329],[770,329],[769,329],[768,329],[767,329],[766,329],[765,329],[764,329],[763,329],[762,329],[761,329],[760,329],[759,329],[758,329],[757,329],[756,329],[755,329],[754,329],[753,329],[752,329],[751,329],[750,329],[749,329],[748,329],[747,329],[746,329],[745,329],[744,329],[743,329],[742,329],[741,329],[740,329],[739,329],[738,329],[737,329],[736,329],[735,329],[734,329],[733,329],[732,329],[731,329],[730,329],[729,329],[728,329],[727,329],[726,329],[725,329],[724,329],[723,329],[722,329],[721,329],[720,329],[719,329],[718,329],[717,329],[716,329],[715,329],[714,329],[713,329],[712,329],[711,329],[710,329],[709,329],[708,329],[707,329],[706,329],[705,329],[704,329],[703,329],[702,329],[701,329],[700,329],[699,329],[698,329],[697,329],[696,329],[695,329],[694,329],[693,329],[692,329],[691,329],[690,329],[689,329],[688,329],[687,329],[686,329],[685,329],[684,329],[683,329],[682,329],[681,329],[680,329],[679,329],[678,329],[677,329],[676,329],[675,329],[674,329],[673,329],[672,329],[671,329],[670,329],[669,329],[668,329],[667,329],[666,329],[665,329],[664,329],[663,329],[662,329],[661,329],[660,329],[659,329],[658,329],[657,329],[656,329],[655,329],[654,329],[653,329],[652,329],[651,329],[650,329],[649,329],[648,329],[647,329],[646,329],[645,329],[644,329],[643,329],[642,329],[641,329],[640,329],[639,329],[638,329],[637,329],[636,329],[635,329],[634,329],[633,329],[632,329],[631,329],[630,329],[629,329],[628,329],[627,329],[626,329],[625,329],[624,329],[623,329],[622,329],[621,329],[620,329],[619,329],[618,329],[617,329],[616,329],[615,329],[614,329],[613,329],[612,329],[611,329],[610,329],[609,329],[608,329],[607,329],[606,329],[605,329],[604,329],[603,329],[602,329],[601,329],[600,329],[599,329],[598,329],[597,329],[596,329],[595,329],[594,329],[593,329],[592,329],[591,329],[590,329],[589,329],[588,329],[587,329],[586,329],[585,329],[584,329],[583,329],[582,329],[581,329],[580,329],[579,329],[578,329],[577,329],[576,329],[575,329],[574,329],[573,329],[572,329],[571,329],[570,329],[569,329],[568,329],[567,329],[566,329],[565,329],[564,329],[563,329],[562,329],[561,329],[560,329],[559,329],[558,329],[557,329],[556,329],[555,329],[554,329],[553,329],[552,329],[551,329],[550,329],[549,329],[548,329],[547,329],[546,329],[545,329],[544,329],[543,329],[542,329],[541,329],[540,329],[539,329],[538,329],[537,329],[536,329],[535,329],[534,329],[533,329],[532,329],[531,329],[530,329],[529,329],[528,329],[527,329],[526,329],[525,329],[524,329],[523,329],[522,329],[521,329],[520,329],[519,329],[518,329],[517,329],[516,329],[515,329],[514,329],[513,329],[512,329],[511,329],[510,329],[509,329],[508,329],[507,329],[506,329],[505,329],[504,329],[503,329],[502,329],[501,329],[500,329],[499,329],[498,329],[497,329],[496,329],[495,329],[494,329],[493,329],[492,329],[491,329],[490,329],[489,329],[488,329],[487,329],[486,329],[485,329],[484,329],[483,329],[482,329],[481,329],[480,329],[479,329],[478,329],[477,329],[476,329],[475,329],[474,329],[473,329],[472,329],[471,329],[470,329],[469,329],[468,329],[467,329],[466,329],[465,329],[464,329],[463,329],[462,329],[461,329],[460,329],[459,329],[458,329],[457,329],[456,329],[455,329],[454,329],[453,329],[452,329],[451,329],[450,329],[449,329],[448,329],[447,329],[446,329],[445,329],[444,329],[443,329],[442,329],[441,329],[440,329],[439,329],[438,329],[437,329],[436,329],[435,329],[434,329],[433,329],[432,329],[431,329],[430,329],[429,329],[428,329],[427,329],[426,329],[425,329],[424,329],[423,329],[422,329],[421,329],[420,329],[419,329],[418,329],[417,329],[416,329],[415,329],[414,329],[413,329],[412,329],[411,329],[410,329],[409,329],[408,329],[407,329],[406,329],[405,329],[404,329],[403,329],[402,329],[401,329],[400,329],[399,329],[398,329],[397,329],[396,329],[395,329],[394,329],[393,329],[392,329],[391,329],[390,329],[389,329],[388,329],[387,329],[386,329],[385,329],[384,329],[383,329],[382,329],[381,329],[380,329],[379,329],[378,329],[377,329],[376,329],[375,329],[374,329],[373,329],[372,329],[371,329],[370,329],[369,329],[368,329],[367,329],[366,329],[365,329],[364,329],[363,329],[362,329],[361,329],[360,329],[359,329],[358,329],[357,329],[356,329],[355,329],[354,329],[353,329],[352,329],[351,329],[350,329],[349,329],[348,329],[347,329],[346,329],[345,329],[344,329],[343,329],[342,329],[341,329],[340,329],[339,329],[338,329],[337,329],[336,329],[335,329],[334,329],[333,329],[332,329],[331,329],[330,329],[329,329],[328,329],[327,329],[326,329],[325,329],[324,329],[323,329],[322,329],[321,329],[320,329],[319,329],[318,329],[317,329],[316,329],[315,329],[314,329],[313,329],[312,329],[311,329],[310,329],[309,329],[308,329],[307,329],[306,329],[305,329],[304,329],[303,329],[302,329],[301,329],[300,329],[299,329],[298,329],[297,329],[296,329],[295,329],[294,329],[293,329],[292,329],[291,329],[290,329],[289,329],[288,329],[287,329],[286,329],[285,329],[284,329],[283,329],[282,329],[281,329],[280,329],[279,329],[278,329],[277,329],[276,329],[275,329],[274,329],[273,329],[272,329],[271,329],[270,329],[269,329],[268,329],[267,329],[266,329],[265,329],[264,329],[263,329],[262,329],[261,329],[260,329],[259,329],[258,329],[257,329],[256,329],[255,329],[254,329],[253,329],[252,329],[251,329],[250,329],[249,329],[248,329],[247,329],[246,329],[245,329],[244,329],[243,329],[242,329],[241,329],[240,329],[239,329],[238,329],[237,329],[236,329],[235,329],[234,329],[233,329],[232,329],[231,329],[230,329],[229,329],[228,329],[227,329],[226,329],[225,329],[224,329],[223,329],[222,329],[221,329],[220,329],[219,329],[218,329],[217,329],[216,329],[215,330],[214,330],[213,331],[212,331],[211,332],[210,332],[209,333],[208,333],[207,333],[206,333],[205,333],[204,333],[203,333],[202,333],[201,333],[200,333],[199,333],[198,333],[197,333],[196,333],[195,333],[194,333],[193,333],[192,333],[191,333],[190,333],[189,333],[188,333],[187,333],[186,333],[185,333],[184,333],[183,333],[182,333],[181,333],[180,333],[179,333],[178,333],[177,333],[176,333],[175,333],[174,333],[173,333],[172,333],[171,333],[170,333],[169,333],[168,333],[167,333],[166,333],[165,333],[164,333],[163,333],[162,333],[161,333],[160,333],[159,333],[158,333],[157,333],[156,333],[155,333],[154,333],[153,333],[152,333],[151,333],[150,333],[149,333],[148,333],[147,333],[146,333],[145,333],[144,333],[143,333],[142,333],[141,333],[140,333],[139,333],[138,333],[137,333],[136,333],[135,333],[134,333],[133,333],[132,333],[131,333],[130,333],[129,333],[128,333],[127,333],[126,333],[125,333],[124,333],[123,333],[122,333],[121,333],[120,333],[119,333],[118,333],[117,333],[116,333],[115,333],[114,333],[113,333],[112,333],[111,333],[110,333],[109,333],[108,333],[107,333],[106,333],[105,333],[104,333],[103,333],[102,333],[101,333],[100,333],[99,333],[98,333],[97,333],[96,333],[95,333],[94,333],[93,333],[92,333],[91,333],[90,333],[89,333],[88,333],[87,333],[86,333],[85,333],[84,333],[83,333],[82,333],[81,333],[80,333],[79,333],[78,333],[77,333],[76,333],[75,334],[75,335],[75,336],[75,337],[75,338],[75,339],[75,340],[75,341],[75,342],[75,343],[75,344],[75,345],[75,346],[75,347],[75,348],[75,349],[75,350],[75,351],[75,352],[75,353],[75,354],[75,355],[75,356],[75,357],[74,358],[73,359],[72,360],[71,361],[71,362],[71,363],[71,364],[71,365],[71,366],[71,367],[71,368],[71,369],[71,370],[71,371],[71,372],[71,373],[71,374],[71,375],[71,376],[71,377],[71,378],[71,379],[71,380],[71,381],[71,382],[71,383],[71,384],[71,385],[71,386],[71,387],[71,388],[71,389],[71,390],[71,391],[71,392],[71,393],[70,394],[70,395]];

    // const categories = [
    //     {id: 1, name: 'Dairy', coord: [13, 4]},
    // ];

    const pathRef = React.useRef(null);
    const floorPlanRef = React.useRef(null);

    const handleResize = () => {
        const floorPlanWidth = floorPlanRef.current.offsetWidth;
        const floorPlanHeight = floorPlanRef.current.offsetHeight;

        pathRef.current.setAttribute('viewBox', `0 0 ${floorPlanWidth} ${floorPlanHeight}`);
    }

    React.useEffect(() => {
        // Add event listener for resize on component mount
        window.addEventListener('resize', handleResize);
    
        // Call handleResize initially to set initial coordinates
        handleResize();
    
        // Clean up event listener on component unmount
        return () => {
          window.removeEventListener('resize', handleResize);
        };
    }, []);

    // const pathVariants = {
    //     initial: {
    //     d: `M${startPoint.x} ${startPoint.y} L${startPoint.x} ${startPoint.y}`,
    //     stroke: "red",
    //     },
    //     animate: {
    //     d: `M${startPoint.x} ${startPoint.y} L${endPoint.x} ${endPoint.y}`,
    //     stroke: "blue",
    //     transition: {
    //         duration: 3,
    //         ease: "easeInOut",
    //         repeat: Infinity, // Set repeat property to Infinity for infinite loop
    //         repeatType: "loop", // Set repeatType property to "loop" for infinite loop
    //         repeatDelay: 1,
    //     },
    //     },
    // };

    return (
        <div className="canvas">
            <Container className="svg-container mw-100 p-0" style={{position:'relative', zIndex:1}}>
                <motion.svg ref={pathRef} style={{ position: "absolute", top: 0, left: 0, zIndex: 3, width:"100%", height:"100%", overflow:'visible'}}>
                    {/* <motion.path
                        d={`M${startPoint.x} ${startPoint.y} L${startPoint.x} ${startPoint.y}`}
                        fill="transparent"
                        stroke="red"
                        strokeWidth="5"
                        strokeDasharray="8"
                        animate="animate"
                        variants={pathVariants}
                    /> */}
                    <Path coordinates={coordinates} />
                </motion.svg>
                <div style={{position:'relative', zIndex:2}} ref={floorPlanRef}>
                    {props.loc === '1' && 
                    <FloorPlanOne className="svg" />
                    }
                    {props.loc === '2' && 
                    <FloorPlanTwo className="svg" />
                    }
                </div>
                <FAB/>
            </Container>
        </div>
    )
}

export default FloorPlanComponent;